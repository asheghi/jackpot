import{o as c,c as u,a as r,t as f,n as _,F as g,r as p,b as m,d as O,e as b,T as y,f as B,g as L}from"./vendor.056139c8.js";const w=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}};w();const d=["c","l","o","w"],h=3,x={c:10,l:20,o:30,w:40};function N(){return Array(h).fill(null).map(()=>{const e=Math.floor(Math.random()*d.length);return d[e]})}function v(e){return(l=>l.filter((t,n)=>l.indexOf(t)===n))(e).length===1}function q(e){return x[e[0]]}function M(e){let o=0;return e>60?o=60:e>40&&e<60&&(o=30),Math.random()*100+1-o<0}function k(e){const o=N();return v(o)&&M(e)?k(e):o}var C=(e,o)=>{for(const[s,l]of o)e[s]=l;return e};const S={name:"Block",data(){return{symbols:d}},props:{symbol:{required:!0},rolling:{required:!0,type:Boolean}}},P={class:"block-wrapper"},A={class:"block-symbol"};function E(e,o,s,l,t,n){return c(),u("div",P,[r("div",{class:_(["block",s.rolling?"rolling":""])},[r("div",A,f(s.rolling?"X":s.symbol),1)],2),s.rolling?(c(),u("div",{key:0,class:_(["rolling-motion rolling",s.rolling?"rolling":""])},[(c(),u(g,null,p(120,i=>r("div",{key:i},f(t.symbols[i%t.symbols.length]),1)),64))],2)):m("",!0)])}var T=C(S,[["render",E]]);function R(e){return Array(e).fill(null).map((o,s)=>s)}const Y={components:{Block:T},mounted(){this.$refs["cash-out"].onmouseenter=()=>{const e=Math.random()*100;e<50?this.moveCashOut():e>=50&&e<90&&(this.disableCachOut=!0,setTimeout(()=>{this.disableCachOut=!1},5e3))},this.$refs["cash-out"].onmouseout=()=>{this.disableCachOut=!1}},data(){return{BLOCK_SIZE:h,symbols:d,isRolling:{},currentCredit:10,currentRole:d,cashOut:!1,disableCachOut:!1}},methods:{async onRollClicked(){if(!this.currentCredit)return;this.startLoading();const e=k(this.currentCredit);this.currentRole=e,await this.finishLoading(),v(e)?this.currentCredit+=q(e):this.currentCredit-=1},startLoading(){R(h).forEach(e=>{this.isRolling[e]=!0})},finishLoading(){return Promise.all(R(h).map((e,o)=>new Promise(s=>{setTimeout(()=>{this.isRolling[o]=!1,s()},o*1e3+1e3)})))},moveCashOut(){const e=["translateX(120px)","translateX(-120px)","translateY(120px)","translateY(-120px)"],o=Math.floor(Math.random()*e.length);this.$refs["cash-out"].style.transform=e[o]}},computed:{isStillRolling(){return this.isRolling[h-1]}}},$={class:"game"},F=r("h1",{class:"header text-center"}," JackPot! ",-1),G={class:"credit text-center"},K=r("h2",null,"Your Credit:",-1),V={class:"amount"},W={class:"blocks"},X={class:"btns"},Z=["disabled"],j={class:"cash-out-wrapper"},z=["disabled"],D=r("div",{class:"game-over"},[r("h1",null," Game Over ")],-1),I=r("div",{class:"cash-out"},[r("h1",null," $$$ Get Your Price $$$ ")],-1);function J(e,o,s,l,t,n){const i=O("Block");return c(),u("div",$,[F,r("div",G,[K,r("h2",V,f(t.currentCredit),1)]),r("div",W,[(c(!0),u(g,null,p(t.BLOCK_SIZE,a=>(c(),u("div",{class:"block",key:a},[B(i,{symbol:t.currentRole[a-1],rolling:t.isRolling[a-1]},null,8,["symbol","rolling"])]))),128))]),r("div",X,[r("button",{disabled:n.isStillRolling,class:"btn roll",onClick:o[0]||(o[0]=(...a)=>n.onRollClicked&&n.onRollClicked(...a))}," Roll ",8,Z),r("div",j,[r("button",{ref:"cash-out",class:"btn cash-out-btn",disabled:t.disableCachOut,onClick:o[1]||(o[1]=a=>t.cashOut=!0)}," Cash out ",8,z)])]),t.currentCredit?m("",!0):(c(),b(y,{key:0,to:"body"},[D])),t.cashOut?(c(),b(y,{key:1,to:"body"},[I])):m("",!0)])}var H=C(Y,[["render",J]]);L(H).mount("#app");
